<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Accordo di Musica - Questions</title>

    <script type="text/javascript" src="//bodelen.com/apu.php?zoneid=2204635"></script>

    <link rel="shortcut icon" href="icon/icon.png" type="image/png">
    <link rel="stylesheet" href="css/index.css">


    <style>
      body {
        background-color: #cccccc;
        margin: auto;
        border: 4px solid;
        border-radius: 5px;
        width: 400px;
        padding-left: 100px;
        padding-right: 100px;
        background-color: #DCDCDC;
        color: black;
      }

      .center {
        margin: auto;
        text-align: center;
        text-indent: 10px;
        font-family: 'Open Sans', sans-serif;

      }

      #title {
        text-decoration: underline;
      }

      .button {
        margin: auto;

        padding-top: 30px;
        padding-bottom: 10px;

        text-align: center;
        text-indent: 10px;
        font-family: Open Sans;
      }

      img {
        display: block;
        margin-left: 0px;
        margin-right: 0px;
      }
    </style>

  </head>
  <body>

    <br/>
    <br/>
    <br/>

    <form>
      <h1 id="title" class="center">General questions</h1>
      <p id="question" class="center">Please select your preferred contact method:</p>
      <div class="center">
        <input id="radio1" type="radio"
               name="contact" value="akti">
        <label id="optt1" for="radio1">Email</label>

        <input type="radio" id="radio2"
               name="contact">
        <label id="optt2" for="radio2">Phone</label>

        <input type="radio" id="radio3"
               name="contact">
        <label id="optt3" for="radio3">Mail</label>


      </div>
      <div class="button">
        <button type="button" onclick="Submit()">Submit</button>
      </div>
      <p id="FeedbackTxt" class="center"></p>
      <br/>
      <br/>
      <br/>
    </form>

    <script>
      let jsonData = [
        {
          "q": "Did any composers in the classical period composed more piano sonatas, in comparison with the other periods in history of music?",
          "opt1": "True",
          "opt2": "False",
          "opt3": "NA",
          "answer": "True"
        },
        {
          "q": "The pianoforte was not invented during the Classical period?",
          "opt1": "True",
          "opt2": "False",
          "opt3": "-",
          "answer": "False"
        },
        {
          "q": "The Trout Quintet is a composition of the classical period?",
          "opt1": "True",
          "opt2": "False",
          "opt3": "-",
          "answer": "False"
        },
        {
          "q": "Select the composer who does not belong to the Classical period?",
          "opt1": "W. A. Mozart",
          "opt2": "L. V. Beethoven",
          "opt3": "F. P. Schubert",
          "answer": "F. P. Schubert"
        },
        {
          "q": "What are the dates of the Classical Period?",
          "opt1": "1750-1825",
          "opt2": "1600-1750",
          "opt3": "1450-1600",
          "answer": "1750-1825"
        },
        {
          "q": "Which ideal received more emphasis in the classical period ",
          "opt1": "intellectual pursuits",
          "opt2": "emotions or feelings",
          "opt3": "practicality",
          "answer": "intellectual pursuits"
        },
        {
          "q": "What city was the center of musical culture during the classical period?",
          "opt1": "Bonn",
          "opt2": "Salzburg",
          "opt3": "Vienna",
          "answer": "Vienna"
        },
        {
          "q": "The only important innovation in vocal music during the classical period is:",
          "opt1": "Oratorios",
          "opt2": "Opera",
          "opt3": "Mass",
          "answer": "Opera"
        },
        {
          "q": "Which of the following is an important historical figure from the classical period?",
          "opt1": "Marie Antoinette",
          "opt2": "Voltaire",
          "opt3": "All",
          "answer": "All"
        },
        {
          "q": "What is the most common type of chamber music in the classical period?",
          "opt1": "Piano sonata",
          "opt2": "String quartet",
          "opt3": "Violin concerto",
          "answer": "String quartet"
        },
        {
          "q": "Why were brass instruments relegated to more of an accompaniment role in classical music?",
          "opt1": "Brass is generally inferior to strings and woodwinds.",
          "opt2": "They had no valves and therefore couldn't sound good in equal temperament.",
          "opt3": "They were too loud for the classical tastes.",
          "answer": ""
        }
      ];

      //initialize the first question
      let random = (Math.floor(Math.random() * (jsonData.length)));
      generate(random);

      // generate from json array data with index
      function generate(index) {
        document.getElementById("question").innerHTML = jsonData[index].q;
        document.getElementById("optt1").innerHTML = jsonData[index].opt1;
        document.getElementById("optt2").innerHTML = jsonData[index].opt2;
        document.getElementById("optt3").innerHTML = jsonData[index].opt3;
      }
      let ans

      function Submit() {
        let userChecked = false;
        const radios = document.getElementsByName('contact');

        for (let radio of radios) {
          if (radio.checked) {
            ans = document.querySelector("label[for=" + radio.id + "]").innerHTML;
            userChecked = true;
          }
        }
        if(!userChecked) {
          alert("Pleas select an option!");
        }

        if (ans.toString() === jsonData[random].answer.toString()) {
          document.getElementById("FeedbackTxt").innerHTML = "CORRECT";
          document.getElementById("FeedbackTxt").style.color = "#35912f";
        } else {
          document.getElementById("FeedbackTxt").innerHTML = "FALSE, the correct one was "+ jsonData[random].answer.toString();
          document.getElementById("FeedbackTxt").style.color = "#fc1f1f";
        }
      }

    </script>
  </body>
</html>